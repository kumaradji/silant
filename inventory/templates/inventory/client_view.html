<!-- inventory/templates/inventory/client_view.html -->
{% extends 'inventory/base.html' %}
{% block content %}
    <h2>Мои машины</h2>
    <table>
        <thead>
            <tr>
                <th>Модель техники</th>
                <th>Зав. № машины</th>
                <th>Модель двигателя</th>
                <th>Модель трансмиссии</th>
                <th>Дата отгрузки</th>
            </tr>
        </thead>
        <tbody>
            {% for machine in machines %}
            <tr>
                <td>{{ machine.model_technique }}</td>
                <td>{{ machine.serial_number }}</td>
                <td>{{ machine.model_engine }}</td>
                <td>{{ machine.model_transmission }}</td>
                <td>{{ machine.shipment_date }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <h2>Техническое обслуживание</h2>
    <table>
        <thead>
            <tr>
                <th>Машина</th>
                <th>Вид ТО</th>
                <th>Дата проведения</th>
                <th>Наработка, м/час</th>
            </tr>
        </thead>
        <tbody>
            {% for maintenance in maintenances %}
            <tr>
                <td>{{ maintenance.machine.serial_number }}</td>
                <td>{{ maintenance.maintenance_type }}</td>
                <td>{{ maintenance.maintenance_date }}</td>
                <td>{{ maintenance.operating_time }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <h2>Рекламации</h2>
    <table>
        <thead>
            <tr>
                <th>Машина</th>
                <th>Дата отказа</th>
                <th>Узел отказа</th>
                <th>Описание отказа</th>
            </tr>
        </thead>
        <tbody>
            {% for reclamation in reclamations %}
            <tr>
                <td>{{ reclamation.machine.serial_number }}</td>
                <td>{{ reclamation.failure_date }}</td>
                <td>{{ reclamation.failure_unit }}</td>
                <td>{{ reclamation.failure_description }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}